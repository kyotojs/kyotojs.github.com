
          window.__NEXT_REGISTER_PAGE('/13/bg', function() {
            var comp = module.exports=webpackJsonp([6],{101:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(102),a=r(i),o=n(3),s=r(o),u=n(4),l=r(u),f=n(103),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),d=function(){function e(t,n){var r=this;(0,s.default)(this,e),this.mousemove=function(e){r.uniforms.mouse.value.x=e.offsetX-r.renderer.domElement.offsetLeft,r.uniforms.mouse.value.y=e.offsetY-r.renderer.domElement.offsetTop},this.resize=function(){var e=[r.canvas.clientWidth,r.canvas.clientHeight],t=e[0],n=e[1];r.renderer.setSize(t,n),r.targets.forEach(function(e){return e.setSize(t/r.ratio,n/r.ratio)}),r.uniforms.resolution.value.x=t/r.ratio,r.uniforms.resolution.value.y=n/r.ratio},this.animate=function(){r.frame++,r.isPlaying&&(requestAnimationFrame(r.animate),r.frame%r.skip==0&&r.render())},this.ratio=t,this.skip=n,this.scene=new c.Scene,this.camera=new c.OrthographicCamera(-1,1,1,-1,.1,10),this.camera.position.set(0,0,1),this.camera.lookAt(this.scene.position),this.targets=[new c.WebGLRenderTarget(0,0,{minFilter:c.LinearFilter,magFilter:c.NearestFilter,format:c.RGBAFormat}),new c.WebGLRenderTarget(0,0,{minFilter:c.LinearFilter,magFilter:c.NearestFilter,format:c.RGBAFormat})],this.start=Date.now(),this.uniforms={backBuffer:{type:"t",value:new c.Texture},mouse:{type:"v2",value:new c.Vector2},resolution:{type:"v2",value:new c.Vector2},time:{type:"f",value:0}},this.textureLoader=new c.TextureLoader,this.callbacks={}}return(0,l.default)(e,[{key:"setCanvas",value:function(e){e&&(this.canvas=e,this.renderer=new c.WebGLRenderer({canvas:e}),this.renderer.setPixelRatio(1/this.ratio),this.resize(),window.addEventListener("resize",this.resize),this.renderer.domElement.addEventListener("mousemove",this.mousemove),this.frame=0,this.animate())}},{key:"loadShader",value:function(e){this.plane&&this.scene.remove(this.plane);var t=new c.PlaneGeometry(2,2),n=new c.ShaderMaterial({uniforms:this.uniforms,vertexShader:"\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:e,extensions:{derivatives:!0,drawBuffers:!1,fragDepth:!1,shaderTextureLOD:!1}});this.plane=new c.Mesh(t,n),this.scene.add(this.plane)}},{key:"loadTexture",value:function(e){e&&(this.uniforms.texture={type:"t",value:this.textureLoader.load(e)})}},{key:"addUniform",value:function(e,t){this.uniforms[e]={type:"f",value:t()},this.callbacks[e]=t}},{key:"play",value:function(){this.isPlaying=!0,this.animate()}},{key:"stop",value:function(){this.isPlaying=!1}},{key:"render",value:function(){var e=this;this.uniforms.time.value=(Date.now()-this.start)/1e3,this.targets=[this.targets[1],this.targets[0]],this.uniforms.backBuffer.value=this.targets[0].texture,(0,a.default)(this.callbacks).forEach(function(t){e.uniforms[t].value=e.callbacks[t]()}),this.renderer.render(this.scene,this.camera),this.renderer.render(this.scene,this.camera,this.targets[1],!0)}},{key:"aspect",get:function(){return this.renderer.domElement.width/this.renderer.domElement.height}}]),e}();t.default=d},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\nprecision mediump float;\n\nuniform float time;\nuniform vec2 mouse;\nuniform vec2 resolution;\nuniform sampler2D backbuffer;\nuniform sampler2D texture;\nuniform float movement;\nuniform float scroll;\n\nfloat t() {\n  return fract(time * .02);\n}\n\nfloat random(in vec2 p) {\n  return fract(sin(dot(p, vec2(12032., 234.))) *19.23);\n}\nfloat noise (in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n    vec2 u = smoothstep(0.,1.,f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\nfloat fbm(in vec2 p) {\n  float q = 0.;\n  float oct = 1.;\n  float off = 0.1;\n  for (int i = 0; i < 4; i++) {\n    q += random(p * oct *0.0001 + off) / oct / 2.;\n    oct *= 2.;\n    off += 2.0;\n  }\n  return q;\n}\n\nvec4 lighten(in vec4 p) {\n  vec4 x = vec4(0);\n  float n = 3.;\n  x.r = 1.3 - pow(1. - p.r, n);\n  x.g = 1.3 - pow(1. - p.g, n);\n  x.b = 1.6 - pow(1. - p.b, n);\n  x.a = p.a;\n  return x;\n}\n\nvoid main( void ) {\n\tvec2 p = gl_FragCoord.xy / resolution;\n  float xx = fbm(vec2((p.x + mod(time * -0.03, 13.)) * 3., p.y + time * 0.02) + 1.);\n  p.y = ((1. - p.y) + scroll) / 3.4 - (movement * .002 * xx);\n\n  vec2 q = vec2(\n    fbm(p * 5. + t() * 10.),\n    fbm(p * 10. + t() * 30. * fract(sin(p.x * 10.) *20.))\n  ) * 0.0045;\n  q.y += fract(random(p.xx * 0.07) * time + p.y * 10.) * 0.001;\n  p += q;\n\n  vec4 color = texture2D(texture, vec2(p.x, 1. - p.y));\n  color = mix(lighten(color), color, .2);\n\n\tgl_FragColor = color;\n}\n"},213:function(e,t,n){e.exports=n(214)},214:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),a=r(i),o=n(3),s=r(o),u=n(4),l=r(u),f=n(14),c=r(f),d=n(15),h=r(d),m=n(8),v=r(m),p=n(0),g=r(p),x=n(7),y=r(x),w=n(101),b=r(w),k=n(104),_=r(k),F=(0,v.default)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n"]),M=y.default.div(F),L=1e4,S=0,E=0,P=!1,q=function(e){function t(){var e,n,r,i;(0,s.default)(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=r=(0,c.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(u))),r.loadShader=function(e){r.three=new b.default(1,1),r.canvas&&(r.three.setCanvas(r.canvas),r.three.loadTexture("/static/13/bg3.jpg"),r.three.loadShader(_.default),r.three.addUniform("scroll",r.getScroll),r.three.addUniform("movement",r.getMovement),r.three.play())},r.getMovement=function(){return L},r.getScroll=function(){return E},r.update=function(e){L=.96*L+.2*(S-window.scrollY),S=window.scrollY,E=window.scrollY/(document.body.scrollHeight-window.innerHeight),P&&requestAnimationFrame(r.update)},r.setCanvas=function(e){return r.canvas=e},i=n,(0,c.default)(r,i)}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.loadShader(this.props.article),P=!0,this.update()}},{key:"componentWillUnmount",value:function(){this.three&&this.three.stop(),P=!1}},{key:"render",value:function(){return g.default.createElement(M,null,g.default.createElement("canvas",{ref:this.setCanvas}))}}]),t}(g.default.Component);t.default=q}},[213]);
            return { page: comp.default }
          })
        